<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smart Assignments Browser</title>
<style>
body, html { margin:0; padding:0; height:100%; font-family:sans-serif; background:#111; color:white; }
#topbar { height:50px; background:#222; display:flex; align-items:center; gap:5px; padding:0 10px; }
#urlbar { flex:1; padding:6px 10px; border:none; border-radius:4px; }
button { background:#555; border:none; color:white; padding:6px 10px; border-radius:4px; cursor:pointer; }
button:hover { background:#666; }
iframe { width:100%; height:calc(100% - 50px); border:none; }
</style>
</head>
<body>

<div id="topbar">
    <button id="back">←</button>
    <button id="forward">→</button>
    <button id="refresh">⟳</button>
    <input type="text" id="urlbar" placeholder="Enter website e.g. google.com">
</div>
<iframe id="frame" src=""></iframe>

<script>
const frame = document.getElementById("frame");
const urlbar = document.getElementById("urlbar");
const backBtn = document.getElementById("back");
const forwardBtn = document.getElementById("forward");
const refreshBtn = document.getElementById("refresh");

const historyStack = [];
let historyIndex = -1;

function load(url) {
    if (!url.startsWith("http")) url = "https://" + url;
    const proxied = "/assignments/" + encodeURIComponent(url);
    frame.src = proxied;

    if (historyIndex === -1 || historyStack[historyIndex] !== proxied) {
        historyStack.splice(historyIndex+1);
        historyStack.push(proxied);
        historyIndex++;
    }
    urlbar.value = url;
}

urlbar.addEventListener("keydown", e => { if(e.key==="Enter") load(urlbar.value); });
backBtn.addEventListener("click", () => { if(historyIndex>0) { historyIndex--; frame.src = historyStack[historyIndex]; } });
forwardBtn.addEventListener("click", () => { if(historyIndex<historyStack.length-1){ historyIndex++; frame.src = historyStack[historyIndex]; } });
refreshBtn.addEventListener("click", () => { frame.src = historyStack[historyIndex]; });

// Load default site
load("google.com");
</script>

</body>
</html>
